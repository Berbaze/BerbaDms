@page
@model EditModel
@{
    ViewData["Title"] = Model.Note.Id == 0 ? "Neue Notiz" : "Notiz bearbeiten";
}
<style>
    body {
        background: #18191c;
    }

    .notes-container {
        display: flex;
        height: 90vh;
        border-radius: 12px;
        box-shadow: 0 2px 24px #0008;
        background: #23252b;
        margin: 2rem auto;
        max-width: 900px;
        overflow: hidden;
    }

    .notes-sidebar {
        width: 240px;
        background: #23232b;
        border-right: 1px solid #23252b;
        padding: 1rem 0.5rem;
        display: flex;
        flex-direction: column;
    }

    .add-note-btn {
        margin-bottom: 1rem;
        padding: 0.5rem;
        text-align: center;
        background: #36364a;
        border-radius: 8px;
        color: #f7e96a;
        text-decoration: none;
        font-weight: 600;
        transition: background .2s;
        border: 1px solid #36364a;
    }

        .add-note-btn:hover {
            background: #45455e;
        }

    .notes-sidebar ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .notes-sidebar li {
        margin: 0.3rem 0;
    }

        .notes-sidebar li.active, .notes-sidebar li:hover {
            background: #2b2b36;
            border-radius: 8px;
        }

    .notes-sidebar a {
        text-decoration: none;
        color: #f3f3f3;
        display: inline-block;
        width: 80%;
        padding: 0.4rem;
    }

    .note-date {
        float: right;
        color: #b6b7bb;
        font-size: 0.9em;
        margin-top: 4px;
    }

    .notes-main {
        flex: 1;
        padding: 2.5rem 2rem 2rem 2rem;
        display: flex;
        flex-direction: column;
        background: #23252b;
        min-width: 0;
    }

    .edit-area {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 1.2rem;
    }

    .edit-title {
        font-size: 2.2rem;
        font-weight: bold;
        background: transparent;
        color: #f3f3f3;
        border: none;
        outline: none;
        margin-bottom: 0.5rem;
        padding: 0;
        width: 100%;
        resize: none;
        transition: border-color 0.2s;
        box-shadow: none;
        border-bottom: 2px solid transparent;
    }

        .edit-title:focus {
            border-bottom: 2px solid #ffef81;
            background: transparent;
        }

    .edit-content {
        flex: 1;
        font-size: 1.12rem;
        background: transparent;
        color: #ececec;
        border: none;
        outline: none;
        resize: vertical;
        min-height: 420px;
        width: 100%;
        padding: 0;
        box-shadow: none;
        transition: border-color 0.2s;
        border-left: 2px solid transparent;
        border-right: 2px solid transparent;
    }

        .edit-content:focus {
            border-left: 2px solid #444;
            border-right: 2px solid #444;
            background: transparent;
        }

    .editor-actions {
        margin-top: 1.7rem;
    }

        .editor-actions button,
        .cancel-btn {
            padding: 0.5rem 1.2rem;
            border-radius: 8px;
            border: none;
            margin-right: 1rem;
            background: #36364a;
            color: #f7e96a;
            font-weight: 600;
            text-decoration: none;
            transition: background .2s;
        }

            .editor-actions button:hover,
            .cancel-btn:hover {
                background: #45455e;
            }
    
</style>

<div class="notes-container">
    <!-- Sidebar wie gehabt -->
    <aside class="notes-sidebar">
        <a href="/Notes/Edit" class="add-note-btn">+ Neue Notiz</a>
        <ul>
            @foreach (var note in Model.Notes)
            {
                <li class="@(Model.Note?.Id == note.Id ? "active" : "")">
                    <a asp-page="/Index" asp-route-id="@note.Id">@note.Titel</a>
                    <span class="note-date">@note.LetzteBearbeitung.ToShortDateString()</span>
                </li>
            }
        </ul>
    </aside>

    <!-- Editierbereich -->
    <main class="notes-main">
        <form method="post" class="edit-area">
            <input type="hidden" asp-for="Note.Id" />
            <input asp-for="Note.Titel" class="edit-title" autocomplete="off" placeholder="Titel" required maxlength="100" />
            <textarea asp-for="Note.Inhalt" class="edit-content" placeholder="Inhalt" rows="15" required></textarea>
            <div class="editor-actions">
                <button type="submit">Speichern</button>
                <a href="/" class="cancel-btn">Abbrechen</a>
            </div>
        </form>
    </main>
</div>
